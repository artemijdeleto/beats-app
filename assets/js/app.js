(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)r=o[d],i[r]&&p.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"04c6":function(t,e,a){},"0600":function(t,e,a){},"0705":function(t,e,a){},"15a7":function(t,e,a){},"1b9b":function(t,e,a){"use strict";var s=a("0705"),i=a.n(s);i.a},"3c8b":function(t,e,a){"use strict";var s=a("f019"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("f386"),a("28a5"),a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{dark:this.$root.settings.darkTheme,"menu--opened":t.menu},attrs:{id:"app"}},[a("header",[a("nav",[a("button",{staticClass:"button button--large button--accent mr-1",attrs:{id:"menu-button"},on:{click:function(e){t.menu=!t.menu}}},[a("span",{staticClass:"material-icons"},[t._v("menu")])]),a("router-link",{attrs:{to:"/",exact:""}},[a("span",{staticClass:"material-icons"},[t._v("home")]),a("span",[t._v("Home")])]),a("router-link",{attrs:{to:"/explore"}},[a("span",{staticClass:"material-icons"},[t._v("search")]),a("span",[t._v("Search")])]),a("router-link",{attrs:{to:"/explore/beats"}},[a("span",{staticClass:"material-icons"},[t._v("queue_music")]),a("span",[t._v("Beats")])]),a("router-link",{attrs:{to:"/explore/artists"}},[a("span",{staticClass:"material-icons"},[t._v("people")]),a("span",[t._v("Artists")])])],1)]),a("aside",{staticClass:"left"},[this.$root.user.logged?a("router-link",{staticClass:"button button--accent button--large",attrs:{to:"/upload"}},[a("span",{staticClass:"material-icons mr-1"},[t._v("library_add")]),a("span",[t._v("Upload")])]):a("router-link",{staticClass:"button button--accent button--large",attrs:{to:"/account/auth"}},[a("span",{staticClass:"material-icons mr-1"},[t._v("exit_to_app")]),a("span",[t._v("Log in")])]),this.$root.user.logged?a("nav",[a("br"),a("br"),a("br"),a("router-link",{attrs:{to:"/account"}},[a("span",{staticClass:"material-icons"},[t._v("person")]),a("span",[t._v("Account")])]),a("router-link",{attrs:{to:"/account/messages"}},[a("span",{staticClass:"material-icons"},[t._v("mail_outline")]),a("span",[t._v("Messages")])]),a("router-link",{attrs:{to:"/beats/my"}},[a("span",{staticClass:"material-icons"},[t._v("queue_music")]),a("span",[t._v("Dashboard")])]),a("router-link",{attrs:{to:"/account/stats"}},[a("span",{staticClass:"material-icons"},[t._v("trending_up")]),a("span",[t._v("Statistics")])]),a("router-link",{attrs:{to:"/account/settings"}},[a("span",{staticClass:"material-icons"},[t._v("settings")]),a("span",[t._v("Settings")])])],1):t._e()],1),a("main",[a("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[a("router-view")],1)],1),a("aside",{staticClass:"right"},[this.$root.user.logged?a("div",{staticClass:"side-profile"},[a("img",{staticClass:"side-profile__img",attrs:{src:this.$root.user.avatar,alt:""}}),a("h2",[a("router-link",{attrs:{to:"/user/"+this.$root.user.id}},[t._v(t._s(this.$root.user.nickname))])],1),t._m(0)]):t._e(),a("Player",{ref:"player"})],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side-profile__stats"},[a("table",[a("tr",[a("td",[a("span",{staticClass:"material-icons mr-1"},[t._v("monetization_on")]),a("span",{staticClass:"mr-1"},[t._v("Sales")])]),a("td",[a("b",[t._v("10")])])]),a("tr",[a("td",[a("span",{staticClass:"material-icons mr-1"},[t._v("library_music")]),a("span",{staticClass:"mr-1"},[t._v("Beats")])]),a("td",[a("b",[t._v("26")])])]),a("tr",[a("td",[a("span",{staticClass:"material-icons mr-1"},[t._v("people")]),a("span",{staticClass:"mr-1"},[t._v("Followers")])]),a("td",[a("b",[t._v("105")])])])])])}],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side-player"},[a("div",{staticClass:"side-player__cover"},[a("svg",{attrs:{id:"svg",width:"200",height:"200",viewPort:"0 0 100 100",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[a("circle",{attrs:{r:"97",cx:"100",cy:"100",fill:"transparent","stroke-dasharray":"610","stroke-dashoffset":"0"}}),a("circle",{attrs:{id:"bar",r:"97",cx:"100",cy:"100",fill:"transparent","stroke-dasharray":"610","stroke-dashoffset":"610"}})]),t.playlist[t.currentTrack].cover.large?a("img",{staticClass:"side-player__img",attrs:{src:t.playlist[t.currentTrack].cover.large,alt:""}}):t._e()]),a("h1",[a("router-link",{attrs:{to:"/beats/"+t.playlist[t.currentTrack].id}},[t._v("\n\t\t\t"+t._s(t.playlist[t.currentTrack].title)+"\n\t\t")])],1),a("h4",{staticClass:"muted"},[a("router-link",{attrs:{to:"/user/"+t.playlist[t.currentTrack].user.id}},[t._v("\n\t\t\t"+t._s(t.playlist[t.currentTrack].user.nickname)+"\n\t\t")])],1),a("br"),a("div",{staticClass:"side-player__controls"},[a("button",{on:{click:function(e){return t.previous()}}},[a("span",{staticClass:"material-icons"},[t._v("skip_previous")])]),a("button",{on:{click:function(e){return t.toggle()}}},[a("span",{staticClass:"material-icons"},[t._v(t._s(t.playing?"pause":"play_arrow"))])]),a("button",{on:{click:function(e){return t.next()}}},[a("span",{staticClass:"material-icons"},[t._v("skip_next")])])])])},o=[],c=(a("ac6a"),a("c5f6"),a("e814")),l=a.n(c);function u(t){var e=document.createElement("div");e.className="snackbar",e.innerHTML='<div class="snackbar-content">\t\t\t\t\t\t\t\t<span>'+t+"</span>\t\t\t\t\t\t\t</div>",document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},9e3)}var d={data:function(){return{playlist:[{user:{},cover:{}}],expanded:void 0,audio:{},currentTrack:0,currentSeconds:0,durationSeconds:1,playing:!1}},computed:{currentTime:function(){return this.convertTimeHHMMSS(this.currentSeconds)},durationTime:function(){return this.convertTimeHHMMSS(this.durationSeconds)},percentComplete:function(){return l()(this.currentSeconds/this.durationSeconds*100)}},created:function(){var t=this;fetch("".concat("http://api.beats.com/music","/beats.get?sort=recent")).then(function(t){return t.json()}).then(function(e){e[0]&&(t.playlist=e,t.audio.src=e[0].mp3)}),this.expanded="true"==localStorage.getItem("player.expanded")},mounted:function(){var t=this;this.audio=document.createElement("audio"),"true"==this.$root.settings.autoplay&&(this.audio.autoplay=!0),this.audio.onended=function(){return t.next()},this.audio.onloadstart=function(e){setTimeout(function(){null!==e.target.error&&(t.playlist.length>1?(u&&u("Seems like audio not available. Switching to next.."),t.next()):u&&u("Seems like audio not available"))},1e3)},this.audio.addEventListener("timeupdate",function(){t.currentSeconds=l()(t.audio.currentTime);var e=l()(t.currentSeconds/t.durationSeconds*100),a=document.querySelector("#bar"),s=a.attributes.r.value,i=Math.PI*(2*s),n=(100-e)/100*i;a.style.strokeDashoffset=n}),this.audio.addEventListener("loadeddata",function(){localStorage.getItem("backdrop"),t.durationSeconds=l()(t.audio.duration)}),this.audio.addEventListener("pause",function(){t.playing=!1}),this.audio.addEventListener("play",function(){t.playing=!0})},methods:{play:function(t){var e=this;if(isNaN(Number(t)));else{var a=!1;this.playlist.forEach(function(s,i){if(e.playlist[i].id==t)return a=!0,e.audio.pause(),e.currentTrack=i,e.audio.src=e.playlist[e.currentTrack].mp3,void e.audio.play()}),a||fetch("".concat("http://api.beats.com/music","/beats.get?id=").concat(t)).then(function(t){return t.json()}).then(function(t){var a=e.playlist.push(t)-1;e.audio.pause(),e.currentTrack=a,e.audio.src=e.playlist[a].mp3,e.audio.play()})}},convertTimeHHMMSS:function(t){var e=new Date(1e3*t).toISOString().substr(11,8);return 0===e.indexOf("00:")?e.substr(3):e},seek:function(t){var e=t.target.getBoundingClientRect(),a=(t.clientX-e.left)/e.width;this.audio.currentTime=l()(this.audio.duration*a)},previous:function(){var t=--this.currentTrack;void 0==this.playlist[t]&&(t=this.currentTrack=this.playlist.length-1),this.audio.pause(),this.audio.src=this.playlist[t].mp3,this.audio.play()},toggle:function(){this.audio.paused?this.audio.play():this.audio.pause()},next:function(){var t=++this.currentTrack;void 0==this.playlist[t]&&(t=this.currentTrack=0),this.audio.pause(),this.audio.src=this.playlist[t].mp3,this.audio.play()}}},p=d,m=(a("d653"),a("2877")),v=Object(m["a"])(p,r,o,!1,null,null,null),h=v.exports,_={data:function(){return{menu:!1}},components:{Player:h}},g=_,f=Object(m["a"])(g,i,n,!1,null,null,null),b=f.exports,C=a("8c4f"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Authorization")]),a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("label",{staticClass:"form-group"},[a("span",[t._v("Username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),a("br"),t.login?t._e():a("label",{staticClass:"form-group"},[a("span",[t._v("Nickname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],staticClass:"form-control",domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}})]),a("br"),a("label",{staticClass:"form-group"},[a("span",[t._v("Password")]),"checkbox"===(t.login?"password":"text")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{change:function(e){var a=t.password,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=t._i(a,n);s.checked?r<0&&(t.password=a.concat([n])):r>-1&&(t.password=a.slice(0,r).concat(a.slice(r+1)))}else t.password=i}}}):"radio"===(t.login?"password":"text")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"radio"},domProps:{checked:t._q(t.password,null)},on:{change:function(e){t.password=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:t.login?"password":"text"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("br"),a("br"),a("button",{staticClass:"button button--large button--accent mr-1"},[t._v(t._s(t.login?"Log in":"Register"))]),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.login=!t.login}}},[t._v(t._s(t.login?"Create account":"I`m already here"))])])])},k=[];a("a481"),a("3b2b"),a("4917");function w(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}function x(t,e,a){a=a||{};var s=a.expires;if("number"==typeof s&&s){var i=new Date;i.setTime(i.getTime()+1e3*s),s=a.expires=i}s&&s.toUTCString&&(a.expires=s.toUTCString()),e=encodeURIComponent(e);var n=t+"="+e;for(var r in a){n+="; "+r;var o=a[r];!0!==o&&(n+="="+o)}document.cookie=n}var $={data:function(){return{login:!0,username:"",nickname:"",password:""}},created:function(){if(this.$root.user.logged)return this.$router.replace("/")},methods:{submit:function(t){fetch("".concat("http://api.beats.com/music","/users.auth"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"username=".concat(this.username,"&password=").concat(this.password,"&nickname=").concat(this.nickname)}).then(function(t){return t.json()}).then(function(t){t.error||(x("token",t.token,{expires:2592e3}),location.href="/")})}}},T=$,j=Object(m["a"])(T,y,k,!1,null,null,null),S=j.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",[t._m(0),t._l(t.beats,function(e){return a("div",{staticClass:"audio"},[a("div",{staticClass:"audio__cover"},[e.cover.medium?a("img",{staticClass:"audio__cover__img",attrs:{id:e.id,src:e.cover.medium,alt:""}}):t._e(),a("button",{staticClass:"audio__cover__controls",on:{click:function(a){return t.player.play(e.id)}}},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])]),a("h3",[a("router-link",{attrs:{to:"/beats/"+e.id}},[t._v("\n\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t")])],1),a("h6",{staticClass:"muted"},[a("router-link",{attrs:{to:"/user/"+e.user.id}},[t._v("\n\t\t\t\t\t"+t._s(e.user.nickname)+"\n\t\t\t\t")])],1)])})],2),t._m(1),t._m(2),t._m(3),t._m(4)])},P=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[a("span",{staticClass:"material-icons"},[t._v("whatshot")]),a("span",[t._v("Best selling")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("h1",[a("span",{staticClass:"material-icons"},[t._v("whatshot")]),a("span",[t._v("Popular")])]),a("div",{staticClass:"audio"},[a("div",{staticClass:"audio__cover"},[a("img",{staticClass:"audio__cover__img",attrs:{src:"assets/img/1.jpg",alt:""}}),a("button",{staticClass:"audio__cover__controls"},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])]),a("h5",[a("a",{attrs:{href:"/"}},[t._v("Lorde — Melodrama")])]),a("h6",{staticClass:"muted"},[t._v("Pop music")])]),a("div",{staticClass:"audio"},[a("div",{staticClass:"audio__cover"},[a("img",{staticClass:"audio__cover__img",attrs:{src:"assets/img/2.jpg",alt:""}}),a("button",{staticClass:"audio__cover__controls"},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])]),a("h5",[a("a",{attrs:{href:"/"}},[t._v("High hopes")])]),a("h6",{staticClass:"muted"},[t._v("140 BPM")])]),a("div",{staticClass:"audio"},[a("div",{staticClass:"audio__cover"},[a("img",{staticClass:"audio__cover__img",attrs:{src:"assets/img/3.jpg",alt:""}}),a("button",{staticClass:"audio__cover__controls"},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])]),a("h5",[a("a",{attrs:{href:"/"}},[t._v("Lorde — Melodrama")])]),a("h6",{staticClass:"muted"},[t._v("Pop music")])]),a("div",{staticClass:"audio"},[a("div",{staticClass:"audio__cover"},[a("img",{staticClass:"audio__cover__img",attrs:{src:"assets/img/4.jpg",alt:""}}),a("button",{staticClass:"audio__cover__controls"},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])]),a("h5",[a("a",{attrs:{href:"/"}},[t._v("High hopes")])]),a("h6",{staticClass:"muted"},[t._v("140 BPM")])]),a("div",{staticClass:"audio"},[a("div",{staticClass:"audio__cover"},[a("img",{staticClass:"audio__cover__img",attrs:{src:"assets/img/6.jpg",alt:""}}),a("button",{staticClass:"audio__cover__controls"},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])]),a("h5",[a("a",{attrs:{href:"/"}},[t._v("High hopes")])]),a("h6",{staticClass:"muted"},[t._v("140 BPM")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("h1",[a("span",{staticClass:"material-icons"},[t._v("whatshot")]),a("span",[t._v("Recommended for you")])]),a("div",{staticClass:"audio"},[a("div",{staticClass:"audio__cover"},[a("img",{staticClass:"audio__cover__img",attrs:{src:"assets/img/1.jpg",alt:""}}),a("button",{staticClass:"audio__cover__controls"},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])]),a("h5",[a("a",{attrs:{href:"/"}},[t._v("Lorde — Melodrama")])]),a("h6",{staticClass:"muted"},[t._v("Pop music")])]),a("div",{staticClass:"audio"},[a("div",{staticClass:"audio__cover"},[a("img",{staticClass:"audio__cover__img",attrs:{src:"assets/img/2.jpg",alt:""}}),a("button",{staticClass:"audio__cover__controls"},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])]),a("h5",[a("a",{attrs:{href:"/"}},[t._v("High hopes")])]),a("h6",{staticClass:"muted"},[t._v("140 BPM")])]),a("div",{staticClass:"audio"},[a("div",{staticClass:"audio__cover"},[a("img",{staticClass:"audio__cover__img",attrs:{src:"assets/img/3.jpg",alt:""}}),a("button",{staticClass:"audio__cover__controls"},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])]),a("h5",[a("a",{attrs:{href:"/"}},[t._v("Lorde — Melodrama")])]),a("h6",{staticClass:"muted"},[t._v("Pop music")])]),a("div",{staticClass:"audio"},[a("div",{staticClass:"audio__cover"},[a("img",{staticClass:"audio__cover__img",attrs:{src:"assets/img/4.jpg",alt:""}}),a("button",{staticClass:"audio__cover__controls"},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])]),a("h5",[a("a",{attrs:{href:"/"}},[t._v("High hopes")])]),a("h6",{staticClass:"muted"},[t._v("140 BPM")])]),a("div",{staticClass:"audio"},[a("div",{staticClass:"audio__cover"},[a("img",{staticClass:"audio__cover__img",attrs:{src:"assets/img/6.jpg",alt:""}}),a("button",{staticClass:"audio__cover__controls"},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])]),a("h5",[a("a",{attrs:{href:"/"}},[t._v("High hopes")])]),a("h6",{staticClass:"muted"},[t._v("140 BPM")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grid grid-4-4"},[a("section",{staticClass:"list-container"},[a("h1",[t._v("Atmospheric")]),a("div",{staticClass:"list-item"},[a("img",{attrs:{src:"assets/img/1.jpg",alt:""}}),a("div",{staticClass:"list-item__block"},[a("h3",[t._v("Travis Scott type beat")]),a("h6",[t._v("Chris Stapleton")])]),a("button",{staticClass:"awesome-button"},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])]),a("div",{staticClass:"list-item"},[a("img",{attrs:{src:"assets/img/1.jpg",alt:""}}),a("div",{staticClass:"list-item__block"},[a("h3",[t._v("Travis Scott type beat")]),a("h6",[t._v("Chris Stapleton")])]),a("button",{staticClass:"awesome-button"},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])])]),a("section",{staticClass:"list-container"},[a("h1",[t._v("Grime")]),a("div",{staticClass:"list-item"},[a("img",{attrs:{src:"assets/img/1.jpg",alt:""}}),a("div",{staticClass:"list-item__block"},[a("h3",[t._v("Travis Scott type beat")]),a("h6",[t._v("Chris Stapleton")])]),a("button",{staticClass:"awesome-button"},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])])]),a("section",{staticClass:"list-container"},[a("h1",[t._v("Classical")]),a("div",{staticClass:"list-item"},[a("img",{attrs:{src:"assets/img/1.jpg",alt:""}}),a("div",{staticClass:"list-item__block"},[a("h3",[t._v("Travis Scott type beat")]),a("h6",[t._v("Chris Stapleton")])]),a("button",{staticClass:"awesome-button"},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("h1",[a("span",{staticClass:"material-icons"},[t._v("whatshot")]),a("span",[t._v("Trending artists")])]),a("div",{staticClass:"artist"},[a("img",{staticClass:"artist__img",attrs:{src:"assets/img/1.jpg",alt:""}}),a("h5",[a("a",{attrs:{href:"/"}},[t._v("Reavan")])])]),a("div",{staticClass:"artist"},[a("img",{staticClass:"artist__img",attrs:{src:"assets/img/2.jpg",alt:""}}),a("h5",[a("a",{attrs:{href:"/"}},[t._v("High hopes")])]),a("h6",{staticClass:"muted"},[t._v("140 BPM")])])])}],O={data:function(){return{beats:[],player:{}}},mounted:function(){this.player=this.$root.$children[0].$refs.player},created:function(){this.getBeats()},methods:{getBeats:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];fetch("".concat("http://api.beats.com/music","/beats.get?sort=popular")).then(function(t){return t.json()}).then(function(e){void 0!=e[0]?t.beats=e:t.beats=[]})}}},B=O,M=Object(m["a"])(B,E,P,!1,null,null,null),L=M.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition-group",{attrs:{name:"slide-fade",mode:"out-in"}},[t.loading||t.initialLoading?a("loading",{key:"1"},[t._v("Waiting for beats..")]):t._e(),t.loading||void 0==t.beats[0]?t._e():a("div",{key:"2"},[a("form",[a("button",{staticClass:"button mr-1"},[a("span",{staticClass:"material-icons mr-1"},[t._v("sort")]),a("span",[t._v("Filters")])]),a("input",{staticClass:"button mr-1",attrs:{placeholder:"Title, tags or another keywords",type:"text"}}),a("button",{staticClass:"button button--accent"},[a("span",{staticClass:"material-icons mr-1"},[t._v("search")]),a("span",[t._v("Search")])])]),a("br"),a("h1",[t._v("Search results")]),a("div",{staticClass:"beats"},t._l(t.beats,function(t,e){return a("Beat",{key:e,attrs:{beat:t}})}),1)]),t.nomore?a("div",{key:"3"},[a("p",[t._v("Sorry, there's no more beats..")])]):t._e(),!t.initialLoading&&t.pages>1?a("div",{key:"4",staticClass:"pagination"},[a("router-link",{attrs:{to:"/beats"}},[t._v("1")]),t._l(t.pages-1,function(e){return a("router-link",{attrs:{to:"/beats/"+(e+1)}},[t._v(t._s(e+1))])})],2):t._e()],1)],1)},A=[],N=(a("96cf"),a("3b8d")),I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loading"},[a("span",{staticClass:"material-icons spin"},[t._v("sync")]),a("span",[t._t("default")],2)])},H=[],D={},U=Object(m["a"])(D,I,H,!1,null,null,null),q=U.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"beat"},[a("div",{staticClass:"beat__cover"},[t.beat.cover.medium?a("img",{staticClass:"beat__cover__img",attrs:{id:t.beat.id,src:t.beat.cover.medium}}):t._e(),a("button",{staticClass:"beat__cover__button",on:{click:this.$parent.$parent.play}},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])]),a("h2",[a("router-link",{staticClass:"no-underline",attrs:{to:"/beats/"+t.beat.id}},[t._v(t._s(t.beat.title))])],1),a("h4",[t._v("Tempo: "),a("b",[t._v(t._s(t.beat.bpm))]),t._v(" BPM")]),a("h6",[t._v("\n\t\tTags:\n\t\t"),t._l(t.beat.tags,function(e,s){return[a("router-link",{attrs:{to:"/beats/"+e}},[a("b",[t._v(t._s(e))])]),s+1<t.beat.tags.length?[t._v(", ")]:t._e()]})],2),a("br"),a("button",{staticClass:"button"},[t.beat.price>0?[a("span",{staticClass:"material-icons"},[t._v("shopping_cart")]),a("span",[t._v("Purchase")])]:[a("span",{staticClass:"material-icons"},[t._v("get_app")]),a("span",[t._v("Download")])]],2),a("div",{staticClass:"background",style:{backgroundImage:t.beat.cover.medium?"url("+t.beat.cover.medium+")":"linear-gradient(to left, #302b63, #654ea3)"}})])},F=[],J={props:{beat:Object}},z=J,X=Object(m["a"])(z,W,F,!1,null,null,null),G=X.exports,Y={data:function(){return{totalBeats:0,initialLoading:!0,nomore:!1,loading:!1,pages:1,beats:[]}},components:{loading:q,Beat:G},watch:{$route:function(t,e){this.getBeats({page:t.params.page})}},methods:{play:function(t){for(var e=t.target.id,a=this.$parent.$children[0],s=a.playlist.length-1;s>=0;s--)if(a.playlist[s].id==t.target.id)return a.audio.pause(),a.currentTrack=s,a.audio.src=a.playlist[a.currentTrack].mp3,void a.audio.play();fetch("".concat("http://api.beats.com/music","/beats.get?id=").concat(e)).then(function(t){return t.json()}).then(function(t){a.playlist.push(t[0]),a.audio.pause(),a.currentTrack=a.playlist.length-1,a.audio.src=t[0].mp3,a.audio.play()})},getBeats:function(){var t=Object(N["a"])(regeneratorRuntime.mark(function t(){var e,a,s,i=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},this.initialLoading||(this.loading=!0),this.nomore=!1,t.next=5,fetch("".concat("http://api.beats.com/music","/beats.get?page=").concat(e.page));case 5:return a=t.sent,t.next=8,a.json();case 8:s=t.sent,void 0!=s[0]?this.beats=s:(this.beats=[],this.nomore=!0),this.loading=!1,this.initialLoading=!1;case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){var t=this;fetch("/api/beats/getData").then(function(t){return t.json()}).then(function(e){t.totalBeats=e.beats,t.pages=e.pages});var e=this.$route.params.page;e=e>0?e:1,this.getBeats({page:e}),this.loading=!1,setTimeout(function(){void 0==t.beats[0]&&(t.loading=!0)},500)}},K=Y,Q=(a("5de3"),Object(m["a"])(K,R,A,!1,null,null,null)),V=Q.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"beat__cover"},[a("img",{staticClass:"beat__cover__img",attrs:{src:t.audio.cover.medium}})]),a("h1",[t._v(t._s(t.audio.title))]),a("h4",{staticClass:"muted"},[t._v(t._s(t.audio.user.nickname))]),a("p",[t._v("Tempo: "+t._s(t.audio.tempo)+" BPM")]),a("p",[t._v("\n\t\tTags:\n\t\t"),t._l(t.audio.tags,function(e,s){return[a("router-link",{attrs:{to:"/explore/beats?tags="+e}},[a("b",[t._v(t._s(e))])]),s+1<t.audio.tags.length?[t._v(", ")]:t._e()]})],2),a("hr",{staticClass:"muted"}),t._m(0),a("hr",{staticClass:"muted"}),a("br"),a("br"),a("h2",[t._v("Лицензирование")]),a("div",{staticClass:"grid grid-3-1"},t._l(t.audio.licenses,function(e){return a("div",{staticClass:"license"},[a("h3",[t._v(t._s(e.name))]),a("p",{staticClass:"license__description"},[t._v(t._s(e.description))]),a("button",{staticClass:"button button--accent"},[t._v("Purchase for "+t._s(e.price))])])}),0)])},tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"button button--red"},[a("span",{staticClass:"material-icons mr-1"},[t._v("favorite")]),a("span",{staticClass:"material-icons mr-1"},[t._v("favorite_outline")]),a("span",[t._v("102")])])}],et={data:function(){return{audio:{title:"",cover:{},licenses:[],user:{}}}},components:{loading:q},watch:{$route:function(t,e){this.getBeats({page:t.params.page})}},methods:{play:function(t){for(var e=t.target.id,a=this.$parent.$children[0],s=a.playlist.length-1;s>=0;s--)if(a.playlist[s].id==t.target.id)return a.audio.pause(),a.currentTrack=s,a.audio.src=a.playlist[a.currentTrack].mp3,void a.audio.play();fetch("".concat("http://api.beats.com/music","/beats.get?id=").concat(e)).then(function(t){return t.json()}).then(function(t){a.playlist.push(t[0]),a.audio.pause(),a.currentTrack=a.playlist.length-1,a.audio.src=t[0].mp3,a.audio.play()})},getBeats:function(){var t=Object(N["a"])(regeneratorRuntime.mark(function t(){var e,a,s,i=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},this.initialLoading||(this.loading=!0),this.nomore=!1,t.next=5,fetch("".concat("http://api.beats.com/music","/beats.get?page=").concat(e.page));case 5:return a=t.sent,t.next=8,a.json();case 8:s=t.sent,void 0!=s[0]?this.beats=s:(this.beats=[],this.nomore=!0),this.loading=!1,this.initialLoading=!1;case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){var t=this;fetch("".concat("http://api.beats.com/music","/beats.get?id=").concat(this.$route.params.id,"&fields=licenses")).then(function(t){return t.json()}).then(function(e){t.audio=e})}},at=et,st=Object(m["a"])(at,Z,tt,!1,null,null,null),it=st.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",[a("h1",[t._v("Основное")]),a("label",{staticClass:"beat__cover upload-image"},[a("input",{attrs:{id:"cover",type:"file"},on:{change:t.image}}),a("img",{staticClass:"beat__cover__img",attrs:{src:t.audio.cover.medium,alt:""}})]),a("label",{staticClass:"form-group"},[a("span",[t._v("Название")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.audio.title,expression:"audio.title"}],staticClass:"form-control",attrs:{placeholder:"Near the Ocean, Fly Me to the Moon"},domProps:{value:t.audio.title},on:{input:function(e){e.target.composing||t.$set(t.audio,"title",e.target.value)}}})]),a("br"),a("label",{staticClass:"form-group"},[a("span",[t._v("Темп")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.audio.tempo,expression:"audio.tempo"}],staticClass:"form-control",attrs:{placeholder:"50 – 500"},domProps:{value:t.audio.tempo},on:{input:function(e){e.target.composing||t.$set(t.audio,"tempo",e.target.value)}}}),t._v("   BPM\n\t\t")]),a("br"),a("label",{staticClass:"form-group"},[a("span",[t._v("Теги")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.audio.tags,expression:"audio.tags"}],staticClass:"form-control",attrs:{placeholder:"fast flow, atmosphere, aggressive"},domProps:{value:t.audio.tags},on:{input:function(e){e.target.composing||t.$set(t.audio,"tags",e.target.value)}}})]),a("hr",{staticClass:"muted"}),a("br"),a("h2",[t._v("Лицензирование")]),a("div",{staticClass:"grid grid-3-1"},t._l(t.audio.licenses,function(e){return a("div",{staticClass:"license"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"license.name"}],staticClass:"button button--accent",domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"license.description"}],staticClass:"license__description",domProps:{value:e.description},on:{input:function(a){a.target.composing||t.$set(e,"description",a.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"license.price"}],staticClass:"button button--accent",domProps:{value:e.price},on:{input:function(a){a.target.composing||t.$set(e,"price",a.target.value)}}})])}),0),a("hr",{staticClass:"muted"}),a("br"),a("h3",[t._v("Дополнительно")]),a("p",[t._v("Параметры доступа")]),a("button",{staticClass:"button button--red",on:{click:t.remove}},[a("span",{staticClass:"material-icons mr-1"},[t._v("delete")]),a("span",[t._v("Удалить бит")])]),a("hr",{staticClass:"muted"}),a("button",{staticClass:"button button--large button--accent",on:{click:t.update}},[t._v("Сохранить")])])])},rt=[],ot={data:function(){return{audio:{id:0,title:"",tempo:100,tags:"",cover:{original:"",medium:""},licenses:[],price:0}}},mounted:function(){var t=this;this.$route.meta.data?(this.audio=this.$route.meta.data,this.update()):fetch("".concat("http://api.beats.com/music","/beats.get?id=").concat(this.$route.params.id,"&fields=contributors,licenses")).then(function(t){return t.json()}).then(function(e){return t.audio=e});var e=document.createElement("script");e.src="assets/js/id3v2.js",document.body.appendChild(e)},methods:{image:function(t){var e=this;this.audio.cover.original=t.target.files[0];var a=new FileReader;a.onload=function(){e.audio.cover.medium=a.result},a.readAsDataURL(t.target.files[0])},update:function(){var t=Object(N["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=new FormData,document.getElementById("cover").files[0]&&e.append("cover",document.getElementById("cover").files[0]),e.append("title",this.audio.title),e.append("tempo",this.audio.tempo),e.append("tags",this.audio.tags),this.audio.cover.original&&e.append("cover",this.audio.cover.original),a=new XMLHttpRequest,a.onreadystatechange=function(t){if(4==t.target.readyState){var e="";try{e=JSON.parse(t.target.response)}catch(a){return u("We did something wrong. Try update your beat again or open console for details"),console.log("Response:",t.target.response),void console.log(a)}e.error?u(e.error):u("Your beat was successfully updated")}},a.open("post","".concat("http://api.beats.com/music","/beats.update?id=").concat(this.audio.id,"&token=").concat(this.$root.user.token)),a.send(e);case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),remove:function(t){confirm("Are you sure?")&&(fetch("".concat("http://api.beats.com/music","/beats.delete?id=").concat(this.audio.id,"&token=").concat(this.$root.user.token)),u("".concat(this.audio.title," was successfully deleted")),this.$router.push("/beats/my"))}}},ct=ot,lt=(a("1b9b"),Object(m["a"])(ct,nt,rt,!1,null,null,null)),ut=lt.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition-group",{attrs:{name:"slide-fade",mode:"out-in"}},[t.loading||t.initialLoading?a("loading",{key:"1"},[t._v("Waiting for beats..")]):t._e(),t.loading||void 0==t.beats[0]?t._e():a("div",{key:"2"},[a("div",[a("h2",[t._v("My beats")]),t._l(t.beats,function(e,s){return a("div",{key:s,staticClass:"audio",attrs:{to:"/beats/"+e.id+"/edit"}},[a("div",{staticClass:"audio__cover"},[e.cover.medium?a("img",{staticClass:"audio__cover__img",attrs:{src:e.cover.medium}}):t._e(),a("button",{staticClass:"audio__cover__controls",on:{click:function(t){}}},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])]),a("h3",[a("router-link",{staticClass:"mr-1",attrs:{to:"/beats/"+e.id}},[a("span",[t._v(t._s(e.title))])]),a("router-link",{staticClass:"button button--small button--accent",attrs:{to:"/beats/"+e.id+"/edit"}},[a("span",{staticClass:"material-icons"},[t._v("edit")])])],1)])})],2)]),t.nomore?a("div",{key:"3"},[a("p",[t._v("Sorry, there's no more beats..")])]):t._e(),!t.initialLoading&&t.pages>1?a("div",{key:"4",staticClass:"pagination"},[a("router-link",{attrs:{to:"/beats"}},[t._v("1")]),t._l(t.pages-1,function(e){return a("router-link",{attrs:{to:"/beats/"+(e+1)}},[t._v(t._s(e+1))])})],2):t._e()],1)],1)},pt=[],mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"audio"},[a("div",{staticClass:"audio__cover"},[t.beat.cover.medium?a("img",{staticClass:"audio__cover__img",attrs:{src:t.beat.cover.medium}}):t._e(),a("button",{staticClass:"audio__cover__controls",on:{click:function(t){}}},[a("span",{staticClass:"material-icons"},[t._v("play_arrow")])])]),a("h5",[a("router-link",{attrs:{to:"/beats/"+t.beat.id}},[t._v("\n\t\t\t"+t._s(t.beat.title)+"\n\t\t")])],1),a("h6",{staticClass:"muted"},[a("router-link",{attrs:{to:"/user/"+t.beat.user.id}},[t._v("\n\t\t\t"+t._s(t.beat.user.nickname)+"\n\t\t")])],1)])},vt=[],ht={props:{beat:Object}},_t=ht,gt=Object(m["a"])(_t,mt,vt,!1,null,null,null),ft=gt.exports,bt={data:function(){return{totalBeats:0,initialLoading:!1,nomore:!1,loading:!1,pages:1,beats:[{cover:{}}]}},components:{loading:q,AudioItem:ft},watch:{$route:function(t,e){this.getBeats({page:t.params.page})}},methods:{play:function(t){for(var e=t.target.id,a=this.$parent.$children[0],s=a.playlist.length-1;s>=0;s--)if(a.playlist[s].id==t.target.id)return a.audio.pause(),a.currentTrack=s,a.audio.src=a.playlist[a.currentTrack].mp3,void a.audio.play();fetch("".concat("http://api.beats.com/music","/beats.get?id=").concat(e)).then(function(t){return t.json()}).then(function(t){a.playlist.push(t[0]),a.audio.pause(),a.currentTrack=a.playlist.length-1,a.audio.src=t[0].mp3,a.audio.play()})},getBeats:function(){var t=Object(N["a"])(regeneratorRuntime.mark(function t(){var e,a,s,i=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},this.initialLoading||(this.loading=!0),this.nomore=!1,t.next=5,fetch("".concat("http://api.beats.com/music","/beats.get?page=").concat(e.page));case 5:return a=t.sent,t.next=8,a.json();case 8:s=t.sent,void 0!=s[0]?this.beats=s:(this.beats=[],this.nomore=!0),this.loading=!1,this.initialLoading=!1;case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){var t=this;fetch("".concat("http://api.beats.com/music","/beats.get?user_id=").concat(this.$root.user.id)).then(function(t){return t.json()}).then(function(e){t.beats=e})}},Ct=bt,yt=(a("3c8b"),Object(m["a"])(Ct,dt,pt,!1,null,null,null)),kt=yt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("Messages")]),a("router-link",{staticClass:"message",attrs:{to:"/account/messages/reavan"}},[a("img",{attrs:{src:"assets/img/1.jpg",alt:""}}),a("h4",[t._v("Reavan")]),a("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ut officia voluptatem error omnis aliquid similique, tempora deserunt minus reiciendis a corrupti fugit accusantium, voluptatibus, quia quidem fugiat enim totam dolor.")])])],1)},xt=[],$t=(a("9a49"),{}),Tt=Object(m["a"])($t,wt,xt,!1,null,null,null),jt=Tt.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",[a("h1",[t._v("Настройки")]),a("br"),a("label",{staticClass:"checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.autoplay,expression:"settings.autoplay"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.autoplay)?t._i(t.settings.autoplay,null)>-1:t.settings.autoplay},on:{change:function(e){var a=t.settings.autoplay,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=t._i(a,n);s.checked?r<0&&t.$set(t.settings,"autoplay",a.concat([n])):r>-1&&t.$set(t.settings,"autoplay",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.settings,"autoplay",i)}}}),a("span",[t._v("Автовоспроизведение")])]),a("label",{staticClass:"checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.darkTheme,expression:"settings.darkTheme"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.darkTheme)?t._i(t.settings.darkTheme,null)>-1:t.settings.darkTheme},on:{change:function(e){var a=t.settings.darkTheme,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=t._i(a,n);s.checked?r<0&&t.$set(t.settings,"darkTheme",a.concat([n])):r>-1&&t.$set(t.settings,"darkTheme",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.settings,"darkTheme",i)}}}),a("span",[t._v("Тёмная тема")])]),a("button",{staticClass:"button button--accent button--large mr-1",on:{click:t.save}},[t._v("Сохранить")]),a("br"),a("br"),a("router-link",{staticClass:"button",attrs:{to:"/account/logout"}},[t._v("Log out")])],1)},Et=[],Pt={data:function(){return{settings:{autoplay:!1,darkTheme:!1}}},created:function(){this.settings.autoplay="true"===localStorage.getItem("autoplay"),this.settings.darkTheme="true"===localStorage.getItem("darkTheme")},methods:{save:function(){for(var t in this.settings)localStorage.setItem(t,this.settings[t]),this.$root.settings[t]=this.settings[t]},reset:function(){var t=document.getElementById("player");t.style.left=0,t.style.top=0,localStorage.setItem("player.position.left",0),localStorage.setItem("player.position.top",0)}}},Ot=Pt,Bt=Object(m["a"])(Ot,St,Et,!1,null,null,null),Mt=Bt.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.started?a("div",{staticClass:"progress"},[a("div",{style:{width:t.progress+"%"},attrs:{id:"progress"}})]):a("div",[a("h1",[t._v("Uploading")]),a("br"),a("div",{class:["dragbox",t.drag.focused?"dragbox--focused":""]},[a("h4",[t.drag.focused?[t._v("\n\t\t\t\tDrop it right here\n\t\t\t")]:[a("span",{staticClass:"mr-1"},[t._v("\n\t\t\t\t\tDrag & drop your audio file right here or\n\t\t\t\t")]),t._m(0)]],2)])])},Rt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"button button--accent input_custom-file"},[a("input",{attrs:{type:"file"}}),a("span",{staticClass:"material-icons mr-1"},[t._v("create_new_folder")]),a("span",[t._v("Browse your PC")])])}],At=(a("7f7f"),a("34ef"),{data:function(){return{drag:{focused:!1},started:!1,progress:0,file:{id:0,title:"",tempo:100,cover:{}}}},mounted:function(){var t=this,e=document.createElement("script");e.src="assets/js/id3v2.js",document.body.appendChild(e);var a=document.querySelector(".dragbox");a.ondragenter=a.ondragover=function(e){e.preventDefault(),t.drag.focused=!0},a.ondragleave=function(e){t.drag.focused=!1},a.ondrop=function(e){e.preventDefault();var a=e.dataTransfer.files[0];if(a)try{t.upload(a)}catch(s){u(s.message)}},a.onchange=function(e){e.preventDefault();var a=e.target.files[0];if(a)try{t.upload(a)}catch(s){u(s.message)}}},methods:{upload:function(t){var e=this;if(this.drag.focused=!1,-1==t.type.indexOf("audio/"))throw new Error("We accept only audio files");function a(t){for(var e=atob(t.split(",")[1]),a=t.split(",")[0].split(":")[1].split(";")[0],s=new ArrayBuffer(e.length),i=new Uint8Array(s),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return new Blob([s],{type:a})}this.started=!0,ID3v2.parseFile(t,function(s){s.Title?e.file.title=s.Title:e.file.title=-1==t.name.indexOf("-")?t.name.slice(0,-4):t.name.slice(t.name.indexOf("-")+2,-4),s.BPM&&(e.file.tempo=s.BPM),s.pictures[0]&&(e.file.cover.original=a(s.pictures[0].dataURL),e.file.cover.medium=s.pictures[0].dataURL)});var s=new FormData;s.append("file[]",t);var i=new XMLHttpRequest;i.upload.onprogress=function(t){e.progress=l()(t.loaded/t.total*100)},i.onreadystatechange=function(t){if(4==t.target.readyState){var a={};try{a=JSON.parse(t.target.response)}catch(s){return u("We did something wrong. Try upload your beat again or open console for details"),console.log("Response:",t.target.response),void console.log(s)}a.error?u(a.error):void 0==a.id?(u("We did something wrong. Try upload your beat again or open console for details"),console.log("Response:",t.target.response)):(u("Your beat was successfully uploaded"),e.file.id=a.id,e.$route.meta.data=e.file,setTimeout(function(){e.$router.push("/beats/"+a.id+"/edit")},1e3))}},i.open("post","".concat("http://api.beats.com/music","/beats.add?token=").concat(this.$root.user.token)),i.send(s)}}}),Nt=At,It=(a("5c3d"),Object(m["a"])(Nt,Lt,Rt,!1,null,null,null)),Ht=It.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("h4",[t._v("Seems like the page doesn't exist..")]),a("br"),a("router-link",{staticClass:"button button--accent button--large",attrs:{to:this.$route.meta.from}},[t._v("Go back")])],1)},Ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[a("span",{staticClass:"material-icons"},[t._v("highlight_off")]),a("span",[t._v("Whoops..")])])}],qt={},Wt=Object(m["a"])(qt,Dt,Ut,!1,null,null,null),Ft=Wt.exports;s["a"].use(C["a"]);var Jt=new C["a"]({base:"/",linkActiveClass:"active",linkExactActiveClass:"",routes:[{path:"/",component:L,meta:{title:"Home"}},{path:"/account/auth",component:S,meta:{title:"Authorization"}},{path:"/account/messages",component:jt,meta:{title:"Messages"}},{path:"/beats/my",component:kt,meta:{title:"My beats"}},{path:"/account/settings",component:Mt,meta:{title:"Settings"}},{path:"/account/logout",beforeEnter:function(t,e,a){x("token","",{expires:-1}),location.href="/"}},{path:"/explore/beats",component:V,meta:{title:"Explore beats"}},{path:"/beats/:id(\\d+)?",component:it,meta:{title:"Beat"}},{path:"/beats/:id(\\d+)?/edit",component:ut,meta:{title:"Edit"},beforeEnter:function(t,e,a){t.meta.data=e.meta.data,a()}},{path:"/upload",component:Ht,meta:{title:"Uploading"}},{path:"*",component:Ft,beforeEnter:function(t,e,a){a(),t.meta.from=e.path},meta:{from:void 0,title:"Whoops.."}}]}),zt=a("2f62");s["a"].use(zt["a"]);var Xt=new zt["a"].Store({state:{user:{id:0,token:void 0,username:void 0,theme:"light"}}});a("6672");s["a"].config.productionTip=!1,new s["a"]({router:Jt,store:Xt,data:{user:{id:0,logged:!1,token:"",username:"",nickname:"",avatar:""},settings:{darkTheme:"",autoplay:!1}},created:function(){var t=this,e=w("token");if(e){var a=JSON.parse(atob(e.split(".")[1]));this.user.token=e,this.user.logged=!0,this.user.id=a.user.id,this.user.username=a.user.username,this.user.nickname=a.user.nickname,fetch("".concat("http://api.beats.com/music","/users.get?id=").concat(this.$root.user.id)).then(function(t){return t.json()}).then(function(e){t.user.avatar=e.avatar.small})}this.settings.autoplay=localStorage.getItem("autoplay"),this.settings.darkTheme="true"==localStorage.getItem("darkTheme"),document.title=Jt.currentRoute.meta.title||"Whoops..",document.body.style.opacity=1},render:function(t){return t(b)}}).$mount("#app"),Jt.beforeEach(function(t,e,a){document.title=t.meta.title,a()})},"5c3d":function(t,e,a){"use strict";var s=a("0600"),i=a.n(s);i.a},"5de3":function(t,e,a){"use strict";var s=a("15a7"),i=a.n(s);i.a},6672:function(t,e,a){},8616:function(t,e,a){},"9a49":function(t,e,a){"use strict";var s=a("04c6"),i=a.n(s);i.a},d653:function(t,e,a){"use strict";var s=a("8616"),i=a.n(s);i.a},f019:function(t,e,a){}});